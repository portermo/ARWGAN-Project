# å»¶çºŒè¨“ç·´æŒ‡ä»¤æŒ‡å—

## ğŸ“‹ ç•¶å‰è¨“ç·´ç‹€æ…‹

æ ¹æ“š `checkpoints_improved/train.csv`ï¼š
- **å·²å®Œæˆ**: 2 å€‹ epochs
- **æœ€æ–°æª¢æŸ¥é»**: `checkpoint_epoch_0.pth` (2026-01-29 16:47)
- **æœ€ä½³æ¨¡å‹**: `best_model.pth` (2026-01-29 16:47)

---

## ğŸš€ å»¶çºŒè¨“ç·´æŒ‡ä»¤

### æ–¹æ³• 1: å¾æœ€æ–°æª¢æŸ¥é»ç¹¼çºŒï¼ˆæ¨è–¦ï¼‰

å¾ `checkpoint_epoch_0.pth` ç¹¼çºŒè¨“ç·´ï¼Œå¾ç¬¬ 1 å€‹ epoch é–‹å§‹ï¼š

```bash
cd /mnt/nvme/p3/Project/arwgan/ARWGAN-Project/ARWGAN-main

./run_training.sh --train \
    --epochs 10 \
    --batch 24 \
    --use_vgg \
    --data-dir data/coco2017 \
    --resume checkpoints_improved/checkpoint_epoch_0.pth
```

**èªªæ˜**ï¼š
- å¾ epoch 1 é–‹å§‹ï¼ˆæª¢æŸ¥é»ä¿å­˜çš„æ˜¯ epoch 0 çš„ç‹€æ…‹ï¼‰
- ç¹¼çºŒè¨“ç·´åˆ°ç¸½å…± 10 å€‹ epochs
- ä½¿ç”¨ VGG æ„ŸçŸ¥æå¤±
- Batch size = 24ï¼ˆå„ªåŒ–æ€§èƒ½ï¼‰

---

### æ–¹æ³• 2: å¾æœ€ä½³æ¨¡å‹ç¹¼çºŒ

å¾ `best_model.pth` ç¹¼çºŒè¨“ç·´ï¼š

```bash
./run_training.sh --train \
    --epochs 10 \
    --batch 24 \
    --use_vgg \
    --data-dir data/coco2017 \
    --resume checkpoints_improved/best_model.pth
```

**èªªæ˜**ï¼š
- ä½¿ç”¨æœ€ä½³æ€§èƒ½çš„æ¨¡å‹æ¬Šé‡
- æœƒç¹¼çºŒå¾ä¿å­˜æ™‚çš„ epoch é–‹å§‹

---

### æ–¹æ³• 3: å¾èˆŠæª¢æŸ¥é»ç¹¼çºŒï¼ˆå¦‚æœæœ‰æ›´å®Œæ•´çš„è¨“ç·´ï¼‰

å¦‚æœä¹‹å‰æœ‰æ›´å®Œæ•´çš„è¨“ç·´ï¼ˆå¦‚ `checkpoint_epoch_9.pth`ï¼‰ï¼š

```bash
./run_training.sh --train \
    --epochs 100 \
    --batch 24 \
    --use_vgg \
    --data-dir data/coco2017 \
    --resume checkpoints_improved/checkpoint_epoch_9.pth
```

**èªªæ˜**ï¼š
- å¾ epoch 10 é–‹å§‹ï¼ˆæª¢æŸ¥é»ä¿å­˜çš„æ˜¯ epoch 9 çš„ç‹€æ…‹ï¼‰
- ç¹¼çºŒè¨“ç·´åˆ°ç¸½å…± 100 å€‹ epochs

---

## ğŸ“Š åƒæ•¸èªªæ˜

### åŸºæœ¬åƒæ•¸
- `--train`: è¨“ç·´æ¨¡å¼
- `--epochs N`: ç¸½è¨“ç·´ epochsï¼ˆæœƒå¾æª¢æŸ¥é»çš„ epoch + 1 é–‹å§‹ï¼‰
- `--batch N`: Batch sizeï¼ˆå»ºè­° 24 æˆ– 32ï¼‰
- `--use_vgg`: å•Ÿç”¨ VGG æ„ŸçŸ¥æå¤±ï¼ˆæ¨è–¦ï¼‰
- `--data-dir PATH`: æ•¸æ“šé›†è·¯å¾‘
- `--resume PATH`: æª¢æŸ¥é»æ–‡ä»¶è·¯å¾‘

### å¯é¸åƒæ•¸
- `--lr FLOAT`: å­¸ç¿’ç‡ï¼ˆé»˜èª 1e-4ï¼‰
- `--save_dir PATH`: æ¨¡å‹ä¿å­˜ç›®éŒ„ï¼ˆé»˜èª ./checkpoints_improvedï¼‰

---

## ğŸ’¡ æ¨è–¦é…ç½®

### çŸ­æœŸè¨“ç·´ï¼ˆæ¸¬è©¦ç”¨ï¼‰
```bash
./run_training.sh --train \
    --epochs 5 \
    --batch 24 \
    --use_vgg \
    --data-dir data/coco2017 \
    --resume checkpoints_improved/checkpoint_epoch_0.pth
```

### å®Œæ•´è¨“ç·´ï¼ˆç”Ÿç”¢ç”¨ï¼‰
```bash
./run_training.sh --train \
    --epochs 100 \
    --batch 24 \
    --use_vgg \
    --data-dir data/coco2017 \
    --resume checkpoints_improved/checkpoint_epoch_0.pth \
    --lr 1e-4
```

### é«˜æ€§èƒ½è¨“ç·´ï¼ˆå¦‚æœ GPU è¨˜æ†¶é«”è¶³å¤ ï¼‰
```bash
./run_training.sh --train \
    --epochs 100 \
    --batch 32 \
    --use_vgg \
    --data-dir data/coco2017 \
    --resume checkpoints_improved/checkpoint_epoch_0.pth \
    --lr 1e-4
```

---

## âš ï¸ æ³¨æ„äº‹é …

### 1. Epoch ç·¨è™Ÿ
- æª¢æŸ¥é»ä¿å­˜çš„æ˜¯**ç•¶å‰ epoch å®Œæˆå¾Œ**çš„ç‹€æ…‹
- `checkpoint_epoch_0.pth` è¡¨ç¤ºå®Œæˆäº† epoch 0
- æ¢å¾©è¨“ç·´æœƒå¾ **epoch 1** é–‹å§‹

### 2. ç¸½ Epochs è¨­ç½®
- `--epochs 10` è¡¨ç¤ºç¸½å…±è¨“ç·´ 10 å€‹ epochs
- å¦‚æœæª¢æŸ¥é»æ˜¯ epoch 0ï¼Œæœƒè¨“ç·´ epoch 1-10
- å¦‚æœæª¢æŸ¥é»æ˜¯ epoch 9ï¼Œæœƒè¨“ç·´ epoch 10ï¼ˆåªè¨“ç·´ 1 å€‹ epochï¼‰

### 3. å­¸ç¿’ç‡
- æ¢å¾©è¨“ç·´æ™‚æœƒä½¿ç”¨æª¢æŸ¥é»ä¸­ä¿å­˜çš„å­¸ç¿’ç‡èª¿åº¦å™¨ç‹€æ…‹
- å¦‚æœéœ€è¦èª¿æ•´ï¼Œå¯ä»¥åœ¨ä»£ç¢¼ä¸­ä¿®æ”¹æˆ–ä½¿ç”¨ `--lr` åƒæ•¸

### 4. æœ€ä½³æ¨¡å‹
- `best_model.pth` ä¿å­˜çš„æ˜¯é©—è­‰é›†ä¸Š BER æœ€ä½çš„æ¨¡å‹
- å¯èƒ½ä¸æ˜¯æœ€å¾Œä¸€å€‹ epoch çš„æ¨¡å‹
- é©åˆç”¨æ–¼æ¸¬è©¦æˆ–ç¹¼çºŒè¨“ç·´

---

## ğŸ” æª¢æŸ¥è¨“ç·´é€²åº¦

### æŸ¥çœ‹è¨“ç·´æ—¥èªŒ
```bash
tail -f checkpoints_improved/train.csv
```

### æŸ¥çœ‹æœ€æ–°æª¢æŸ¥é»
```bash
ls -lht checkpoints_improved/*.pth
```

### ç›£æ§ GPU ä½¿ç”¨
```bash
watch -n 1 nvidia-smi
```

---

## ğŸ“ å®Œæ•´ç¤ºä¾‹

### å¾æœ€æ–°æª¢æŸ¥é»ç¹¼çºŒè¨“ç·´ 10 å€‹ epochs

```bash
cd /mnt/nvme/p3/Project/arwgan/ARWGAN-Project/ARWGAN-main

# æª¢æŸ¥ç•¶å‰ç‹€æ…‹
cat checkpoints_improved/train.csv | tail -3

# é–‹å§‹å»¶çºŒè¨“ç·´
./run_training.sh --train \
    --epochs 10 \
    --batch 24 \
    --use_vgg \
    --data-dir data/coco2017 \
    --resume checkpoints_improved/checkpoint_epoch_0.pth
```

### åœ¨ tmux ä¸­é‹è¡Œï¼ˆæ¨è–¦ï¼‰

```bash
# å•Ÿå‹• tmux æœƒè©±
tmux new -s arwgan_training

# åœ¨ tmux ä¸­åŸ·è¡Œè¨“ç·´
cd /mnt/nvme/p3/Project/arwgan/ARWGAN-Project/ARWGAN-main
./run_training.sh --train \
    --epochs 10 \
    --batch 24 \
    --use_vgg \
    --data-dir data/coco2017 \
    --resume checkpoints_improved/checkpoint_epoch_0.pth

# åˆ†é›¢æœƒè©±: Ctrl+b, ç„¶å¾ŒæŒ‰ d
# é‡æ–°é€£æ¥: tmux attach -t arwgan_training
```

---

## ğŸ¯ å¿«é€Ÿé–‹å§‹

**æœ€ç°¡å–®çš„å»¶çºŒè¨“ç·´æŒ‡ä»¤**ï¼š

```bash
cd /mnt/nvme/p3/Project/arwgan/ARWGAN-Project/ARWGAN-main

./run_training.sh --train \
    --epochs 10 \
    --batch 24 \
    --use_vgg \
    --data-dir data/coco2017 \
    --resume checkpoints_improved/checkpoint_epoch_0.pth
```

é€™æœƒï¼š
- âœ… å¾ epoch 1 é–‹å§‹ï¼ˆæª¢æŸ¥é»æ˜¯ epoch 0ï¼‰
- âœ… è¨“ç·´åˆ°ç¸½å…± 10 å€‹ epochsï¼ˆå³è¨“ç·´ epoch 1-10ï¼‰
- âœ… ä½¿ç”¨ VGG æ„ŸçŸ¥æå¤±
- âœ… ä½¿ç”¨å„ªåŒ–çš„ batch size (24)
- âœ… è‡ªå‹•ä¿å­˜æœ€ä½³æ¨¡å‹å’Œæª¢æŸ¥é»

---

**æœ€å¾Œæ›´æ–°**: 2026-01-29
